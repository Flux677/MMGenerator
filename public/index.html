<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MythicMobs Generator</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ—¡ï¸ MythicMobs Generator</h1>
            <p>Generate Custom Mobs untuk MythicMobs Plugin dengan AI</p>
        </header>

        <main>
            <!-- Category Selection -->
            <section class="card">
                <h2>Kategori Mob</h2>
                <div class="category-grid">
                    <label class="category-option">
                        <input type="radio" name="category" value="boss" checked>
                        <span>ğŸ‘‘ Boss</span>
                        <small>Boss tunggal dengan skill kompleks</small>
                    </label>
                    <label class="category-option">
                        <input type="radio" name="category" value="boss_dungeon">
                        <span>ğŸ° Boss + Dungeon Mobs</span>
                        <small>Boss beserta minion untuk dungeon</small>
                    </label>
                    <label class="category-option">
                        <input type="radio" name="category" value="miniboss">
                        <span>âš”ï¸ Mini Boss</span>
                        <small>Boss menengah untuk challenge</small>
                    </label>
                    <label class="category-option">
                        <input type="radio" name="category" value="normal">
                        <span>ğŸŒ Mob Biasa</span>
                        <small>Mob untuk world exploration</small>
                    </label>
                </div>
            </section>

            <!-- Difficulty Preset -->
            <section class="card">
                <h2>ğŸšï¸ Difficulty Preset</h2>
                <div class="difficulty-grid">
                    <label class="difficulty-option">
                        <input type="radio" name="difficulty" value="balanced" checked>
                        <span>âš–ï¸ Balanced</span>
                        <small>Normal HP, balanced damage, fair mechanics</small>
                    </label>
                    <label class="difficulty-option">
                        <input type="radio" name="difficulty" value="hard">
                        <span>ğŸ’ª Hard Challenge</span>
                        <small>High HP+damage, complex patterns</small>
                    </label>
                    <label class="difficulty-option">
                        <input type="radio" name="difficulty" value="nightmare">
                        <span>ğŸ˜ˆ Nightmare</span>
                        <small>LOW HP, INSANE mechanics, one-shot potential</small>
                    </label>
                    <label class="difficulty-option">
                        <input type="radio" name="difficulty" value="psychological">
                        <span>ğŸ§  Psychological</span>
                        <small>Menegangkan: darkness, sound, stealth</small>
                    </label>
                    <label class="difficulty-option">
                        <input type="radio" name="difficulty" value="souls">
                        <span>ğŸ”¥ Souls-like</span>
                        <small>Pattern-based, telegraph attacks, fair</small>
                    </label>
                    <label class="difficulty-option">
                        <input type="radio" name="difficulty" value="swarm">
                        <span>ğŸ•·ï¸ Overwhelming</span>
                        <small>Swarm tactics, minion spam, pressure</small>
                    </label>
                </div>
            </section>
            
            <!-- NEW: Custom AI Behavior System -->
            <section class="card feature-card">
                <div class="card-header-new">
                    <h2>ğŸ¤– Custom AI Behavior</h2>
                    <span class="new-badge">NEW!</span>
                </div>
                <div class="feature-toggle">
                    <label class="toggle-switch">
                        <input type="checkbox" id="customAIBehavior">
                        <span class="toggle-slider"></span>
                        <span class="toggle-label">Enable Custom AI Behavior Pattern</span>
                    </label>
                </div>
                
                <div id="aiBehaviorContainer" style="display:none;">
                    <p class="feature-description">Pilih pola behavior untuk mengontrol gaya bertarung mob:</p>
                    <div class="behavior-grid">
                        <label class="behavior-option">
                            <input type="radio" name="ai_behavior" value="aggressive_rush" checked>
                            <div class="behavior-content">
                                <span class="behavior-icon">âš¡</span>
                                <span class="behavior-title">Aggressive Rush</span>
                                <small>Selalu menyerang, high pressure, tidak mundur</small>
                            </div>
                        </label>
                        <label class="behavior-option">
                            <input type="radio" name="ai_behavior" value="tactical_kiting">
                            <div class="behavior-content">
                                <span class="behavior-icon">ğŸ¯</span>
                                <span class="behavior-title">Tactical Kiting</span>
                                <small>Jaga jarak, ranged attack, mundur saat dekat</small>
                            </div>
                        </label>
                        <label class="behavior-option">
                            <input type="radio" name="ai_behavior" value="defensive_counter">
                            <div class="behavior-content">
                                <span class="behavior-icon">ğŸ›¡ï¸</span>
                                <span class="behavior-title">Defensive Counter</span>
                                <small>Block serangan, counter saat di hit, punish aggro</small>
                            </div>
                        </label>
                        <label class="behavior-option">
                            <input type="radio" name="ai_behavior" value="berserker_mode">
                            <div class="behavior-content">
                                <span class="behavior-icon">ğŸ˜¡</span>
                                <span class="behavior-title">Berserker Mode</span>
                                <small>Enrage di low HP, makin cepat & kuat saat damaged</small>
                            </div>
                        </label>
                        <label class="behavior-option">
                            <input type="radio" name="ai_behavior" value="hit_and_run">
                            <div class="behavior-content">
                                <span class="behavior-icon">ğŸ’¨</span>
                                <span class="behavior-title">Hit and Run</span>
                                <small>Serang lalu teleport, guerrilla tactics</small>
                            </div>
                        </label>
                        <label class="behavior-option">
                            <input type="radio" name="ai_behavior" value="summoner_support">
                            <div class="behavior-content">
                                <span class="behavior-icon">ğŸ‘¥</span>
                                <span class="behavior-title">Summoner Support</span>
                                <small>Stay back, summon minions, buff allies</small>
                            </div>
                        </label>
                    </div>
                </div>
            </section>

            <!-- NEW: Healing Tower System -->
            <section class="card feature-card">
                <div class="card-header-new">
                    <h2>ğŸ—¼ Healing Tower System</h2>
                    <span class="new-badge">NEW!</span>
                </div>
                <div class="feature-toggle">
                    <label class="toggle-switch">
                        <input type="checkbox" id="healingTowerSystem">
                        <span class="toggle-slider"></span>
                        <span class="toggle-label">Enable Healing Tower Mechanic</span>
                    </label>
                </div>
                
                <div id="healingTowerContainer" style="display:none;">
                    <p class="feature-description">Tower yang auto-heal boss, spawn dalam radius 20 blocks, bisa dihancurkan player untuk stop healing.</p>
                    <div class="tower-config">
                        <div class="config-row">
                            <label class="config-label">
                                <span class="config-icon">ğŸ”¢</span>
                                Tower Count:
                            </label>
                            <select id="towerCount" class="select-enhanced">
                                <option value="1">1 Tower (Easy)</option>
                                <option value="2" selected>2 Towers (Normal)</option>
                                <option value="3">3 Towers (Hard)</option>
                                <option value="4">4 Towers (Insane)</option>
                            </select>
                        </div>
                        <div class="config-row">
                            <label class="config-label">
                                <span class="config-icon">ğŸ’š</span>
                                Heal Power:
                            </label>
                            <select id="towerHealPower" class="select-enhanced">
                                <option value="weak">Weak (5 HP/sec)</option>
                                <option value="medium" selected>Medium (10 HP/sec)</option>
                                <option value="strong">Strong (20 HP/sec)</option>
                                <option value="extreme">Extreme (50 HP/sec)</option>
                            </select>
                        </div>
                        <div class="config-row">
                            <label class="config-label">
                                <span class="config-icon">â¤ï¸</span>
                                Tower HP:
                            </label>
                            <select id="towerHP" class="select-enhanced">
                                <option value="100">Glass (100 HP)</option>
                                <option value="200" selected>Normal (200 HP)</option>
                                <option value="500">Tanky (500 HP)</option>
                                <option value="1000">Fortress (1000 HP)</option>
                            </select>
                        </div>
                        <div class="config-row">
                            <label class="config-label">
                                <span class="config-icon">ğŸ”„</span>
                                Tower Respawn:
                            </label>
                            <select id="towerRespawn" class="select-enhanced">
                                <option value="false">No Respawn</option>
                                <option value="30">30 seconds</option>
                                <option value="60" selected>60 seconds</option>
                                <option value="120">2 minutes</option>
                            </select>
                        </div>
                    </div>
                </div>
            </section>

            <!-- NEW: Boss Death Rewards -->
            <section class="card feature-card">
                <div class="card-header-new">
                    <h2>ğŸ Boss Death Reward</h2>
                    <span class="new-badge">NEW!</span>
                </div>
                <div class="feature-toggle">
                    <label class="toggle-switch">
                        <input type="checkbox" id="bossDeathReward">
                        <span class="toggle-slider"></span>
                        <span class="toggle-label">Enable Custom Death Reward</span>
                    </label>
                </div>
                
                <div id="deathRewardContainer" style="display:none;">
                    <p class="feature-description">Pilih apa yang terjadi ketika boss mati (selain drop items):</p>
                    <div class="reward-grid">
                        <label class="reward-option">
                            <input type="radio" name="death_reward" value="chest_spawn" checked>
                            <div class="reward-content">
                                <span class="reward-icon">ğŸ“¦</span>
                                <span class="reward-title">Treasure Chest Spawn</span>
                                <small>Spawn chest berisi loot di lokasi boss mati</small>
                            </div>
                        </label>
                        <label class="reward-option">
                            <input type="radio" name="death_reward" value="portal_spawn">
                            <div class="reward-content">
                                <span class="reward-icon">ğŸŒ€</span>
                                <span class="reward-title">Portal Spawn</span>
                                <small>Portal muncul untuk teleport ke reward room</small>
                            </div>
                        </label>
                        <label class="reward-option">
                            <input type="radio" name="death_reward" value="npc_merchant">
                            <div class="reward-content">
                                <span class="reward-icon">ğŸ§™</span>
                                <span class="reward-title">NPC Merchant Spawn</span>
                                <small>Merchant NPC muncul dengan exclusive trades</small>
                            </div>
                        </label>
                        <label class="reward-option">
                            <input type="radio" name="death_reward" value="arena_transform">
                            <div class="reward-content">
                                <span class="reward-icon">âœ¨</span>
                                <span class="reward-title">Arena Transform</span>
                                <small>Arena berubah, spawn platforms atau loot areas</small>
                            </div>
                        </label>
                        <label class="reward-option">
                            <input type="radio" name="death_reward" value="buff_station">
                            <div class="reward-content">
                                <span class="reward-icon">âš¡</span>
                                <span class="reward-title">Buff Station</span>
                                <small>Spawn totem yang memberikan buff ke players</small>
                            </div>
                        </label>
                        <label class="reward-option">
                            <input type="radio" name="death_reward" value="fireworks_celebration">
                            <div class="reward-content">
                                <span class="reward-icon">ğŸ†</span>
                                <span class="reward-title">Victory Celebration</span>
                                <small>Fireworks & particle show, drops rain dari sky</small>
                            </div>
                        </label>
                    </div>
                </div>
            </section>

            <!-- AI Complexity -->
            <section class="card">
                <h2>ğŸ§  AI Complexity</h2>
                <div class="ai-complexity-grid">
                    <label class="ai-option">
                        <input type="radio" name="ai_complexity" value="advanced" checked>
                        <span>ğŸ¯ Advanced</span>
                        <small>ThreatTable, smart targeting, adaptive</small>
                    </label>
                    <label class="ai-option">
                        <input type="radio" name="ai_complexity" value="elite">
                        <span>ğŸ§¬ Elite</span>
                        <small>Variable-based decisions, state machine</small>
                    </label>
                    <label class="ai-option">
                        <input type="radio" name="ai_complexity" value="nightmare">
                        <span>ğŸ‘ï¸ Nightmare AI</span>
                        <small>Learns patterns, counters player actions</small>
                    </label>
                </div>
            </section>

            <!-- Mechanic Features -->
            <section class="card">
                <h2>âš™ï¸ Advanced Mechanics</h2>
                <div class="mechanics-grid">
                    <label>
                        <input type="checkbox" id="phaseSystem" checked>
                        <span>ğŸ“Š Multi-Phase System</span>
                    </label>
                    <label>
                        <input type="checkbox" id="variableStates" checked>
                        <span>ğŸ”¢ Variable State Machine</span>
                    </label>
                    <label>
                        <input type="checkbox" id="environmentalHazards">
                        <span>ğŸŒ‹ Environmental Hazards</span>
                    </label>
                    <label>
                        <input type="checkbox" id="minionCoordination">
                        <span>ğŸ¤ Minion Coordination</span>
                    </label>
                    <label>
                        <input type="checkbox" id="adaptiveDifficulty">
                        <span>ğŸ“ˆ Adaptive Difficulty</span>
                    </label>
                    <label>
                        <input type="checkbox" id="counterMechanics">
                        <span>ğŸ›¡ï¸ Counter-Attack System</span>
                    </label>
                </div>
            </section>

            <!-- NEW: Visual Spawn Effects -->
            <section class="card">
                <h2>âœ¨ Visual Spawn Effects</h2>
                <div class="mechanics-grid">
                    <label>
                        <input type="checkbox" id="spawnAuraEffect">
                        <span>ğŸŒ€ Spawn Aura/Magic Circle</span>
                    </label>
                    <label>
                        <input type="checkbox" id="spawnHologram">
                        <span>ğŸ’¬ Hologram Name/Title</span>
                    </label>
                    <label>
                        <input type="checkbox" id="summonMechanic">
                        <span>ğŸ—¿ Custom Summon Mechanic</span>
                    </label>
                </div>
                
                <!-- Conditional: Summon Method Selection -->
                <div id="summonMethodContainer" style="display:none; margin-top:1rem; padding-top:1rem; border-top:1px solid #e2e8f0;">
                    <label style="display:block; margin-bottom:0.5rem;">
                        <strong>Summon Method:</strong>
                    </label>
                    <select id="summonMethod" style="width:100%; padding:0.75rem; border:2px solid #e2e8f0; border-radius:8px; font-size:1rem;">
                        <option value="proximity_trigger">ğŸš¶ Proximity Trigger (Player masuk radius)</option>
                        <option value="item_interact">ğŸ”® Item Right-Click</option>
                        <option value="armor_stand">ğŸ—¿ Armor Stand + Item Offering</option>
                        <option value="block_ritual">â­ Block Ritual Pattern</option>
                    </select>
                </div>
            </section>

            <!-- Description Input -->
            <section class="card">
                <h2>Deskripsi Mob</h2>
                <textarea 
                    id="description" 
                    placeholder="Contoh: Buat boss ice wizard yang bisa summon minion, punya skill freeze area, dan teleport. Gunakan Stray sebagai base mob dengan disguise sebagai wizard biru. Spawn dengan magic circle es berwarna cyan."
                    rows="5"
                ></textarea>
                <div class="tips">
                    <strong>ğŸ’¡ Tips:</strong> Sebutkan karakter referensi (anime/game), skill yang diinginkan, dan base mob Minecraft
                    <br><br>
                    <strong>âœ¨ Visual Effects Tips:</strong>
                    <ul style="margin-left:1.5rem; margin-top:0.5rem; margin-bottom:0;">
                        <li><strong>Spawn Aura:</strong> "dengan magic circle berwarna biru saat spawn" atau "ritual pattern api merah"</li>
                        <li><strong>Hologram:</strong> "hologram nama boss dengan efek glowing"</li>
                        <li><strong>Summon:</strong> "spawn otomatis saat player masuk arena" atau "summon dengan klik nether star"</li>
                    </ul>
                </div>
            </section>

            <!-- Optional Features -->
            <section class="card">
                <h2>Fitur Tambahan (Opsional)</h2>
                <div class="checkbox-grid">
                    <label>
                        <input type="checkbox" id="includeItems">
                        <span>ğŸ“¦ Generate Items/Drops</span>
                    </label>
                    <label>
                        <input type="checkbox" id="includeDropTables">
                        <span>ğŸ² Generate Drop Tables</span>
                    </label>
                    <label>
                        <input type="checkbox" id="advancedAI">
                        <span>ğŸ§  AI Mechanics (Threat Table, dll)</span>
                    </label>
                    <label>
                        <input type="checkbox" id="particleEffects">
                        <span>âœ¨ Particle Effects</span>
                    </label>
                </div>
            </section>

            <!-- Generate Button -->
            <button id="generateBtn" class="btn-primary">
                <span id="btnText">âš¡ Generate Mob</span>
                <span id="btnLoader" class="loader" style="display: none;"></span>
            </button>

            <!-- Loading Progress -->
            <div id="progressBar" class="progress-bar" style="display: none;">
                <div class="progress-fill"></div>
                <p id="progressText">Menghubungi AI...</p>
            </div>

            <!-- Results Section -->
            <section id="resultsSection" style="display: none;">
                <div class="card">
                    <h2>âœ… Hasil Generate</h2>
                    
                    <!-- Tabs -->
                    <div class="tabs">
                        <button class="tab-btn active" data-tab="mobs">Mobs Config</button>
                        <button class="tab-btn" data-tab="skills">Skills Config</button>
                        <button class="tab-btn" data-tab="items">Items Config</button>
                        <button class="tab-btn" data-tab="setup">Setup Guide</button>
                    </div>

                    <!-- Tab Contents -->
                    <div class="tab-content active" id="mobs-content">
                        <div class="code-header">
                            <span>ğŸ“„ Mobs.yml</span>
                            <button class="copy-btn" data-target="mobsCode">ğŸ“‹ Copy</button>
                        </div>
                        <pre><code id="mobsCode"></code></pre>
                    </div>

                    <div class="tab-content" id="skills-content">
                        <div class="code-header">
                            <span>ğŸ“„ Skills.yml</span>
                            <button class="copy-btn" data-target="skillsCode">ğŸ“‹ Copy</button>
                        </div>
                        <pre><code id="skillsCode"></code></pre>
                    </div>

                    <div class="tab-content" id="items-content">
                        <div class="code-header">
                            <span>ğŸ“„ Items.yml</span>
                            <button class="copy-btn" data-target="itemsCode">ğŸ“‹ Copy</button>
                        </div>
                        <pre><code id="itemsCode"></code></pre>
                    </div>

                    <div class="tab-content" id="setup-content">
                        <div class="setup-guide" id="setupGuide"></div>
                    </div>

                    <!-- Download All Button -->
                    <button id="downloadBtn" class="btn-secondary">
                        ğŸ’¾ Download Semua Config
                    </button>
                </div>
            </section>

            <!-- Error Display -->
            <div id="errorMessage" class="error-message" style="display: none;"></div>
        </main>

        <footer>
            <p>Powered by Claude AI & MythicMobs</p>
            <p><a href="https://git.mythiccraft.io/mythiccraft/MythicMobs/-/wikis/home" target="_blank">ğŸ“š Wiki MythicMobs</a></p>
        </footer>
    </div>

    <script src="js/ui.js"></script>
    <script src="js/generator.js"></script>
</body>
</html>